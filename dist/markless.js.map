{"version":3,"sources":["markless.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","process","global","Buffer","__argument0","__argument1","__argument2","__argument3","__filename","__dirname","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_selectRangeJs","_selectRangeJs2","cursor","getActiveDom","top","offsetX","offsetY","shodom","document","querySelectorAll","hitDom","HTMLElement","bottom","offsetTop","offsetHeight","addCursor","this","createElement","style","height","position","left","borderLeft","width","count","setInterval","setCursor","x","y","parseInt","getCursor","autoCursor","textarea","markless","start","selectionStart","end","selectionEnd","dom","activeDom","querySelector","oldHTML","innerHTML","strBeforeCursor","substring","strShow","textContent","subIndex","subChar","charAt","theChar","useStar","useEnd","set","pos","getPos","setSelectionRange","element","domTop","domLeft","offsetLeft","offsetParent","self","window","arguments","./selectRange.js","1YiZ5S","buffer",2,"Data","bank","name","val","overwrite","notArray","Array","isObj","delete","get",3,"_dataJs","_dataJs2","_cursorJs","_cursorJs2","edit","domCount","createDom","id","toString","Date","showBox","setAttribute","minHeight","dataset","line","type","html","appendChild","insert","newDom","referenceNode","parentNode","insertBefore","nextSibling","editBox","remove","prever","previousElementSibling","data","./cursor.js","./data.js",4,"Markless","opt","editBoxConf","baseStyle","getElementById","initDome","initEvent","_editDomJs","_editDomJs2","_modeRecognitionJs","_modeRecognitionJs2","_keyEventJs","_keyEventJs2","_valueFormatJs","_valueFormatJs2","prototype","overflow","addEventListener","apply","focus","dispatch","judege","./editDom.js","./keyEvent.js","./modeRecognition.js","./valueFormat.js",5,"keyEvent","editDom","editbox","keyCode","enter","previousSibling","singleLine","lineEnd","test","replace",6,"_modeStyleJs","_modeStyleJs2","Mode","judegeReg","^(#{1,6})[^#]+","^(>)[^>]+","^(\\*)[^\\*]+","^(1\\.)[^\\d]+","reg","ret","testReg","RegExp","hit","match","symbol","./modeStyle.js",7,"Style","mode","StyleConf","h1","h2","h3","h4","h5","h6","blockquotes","text","code",8,"getSelectionTopLeft","getSelection","createRange","getBoundingClientRect","sel","rangeCount","rect","getRangeAt","selection","textRange","boundingLeft","boundingTop","getSel","setSel","containerEl","range","preSelectionRange","cloneRange","selectNodeContents","setEnd","startContainer","startOffset","savedSel","charIndex","setStart","collapse","node","nodeStack","foundStart","stop","pop","nodeType","nextCharIndex","childNodes","push","removeAllRanges","addRange","body","createTextRange","selectedTextRange","preSelectionTextRange","moveToElementText","setEndPoint","moveEnd","moveStart","select",9,"inlineFormat","strong","valueFormat","ul","ol","mainFormat","mainResult","inlimeResult",10,"subject","encoding","noZero","stringtrim","coerce","byteLength","buf","_useTypedArrays","_augment","Uint8Array","_isBuffer","_set","isArrayish","isBuffer","readUInt8","write","_hexWrite","string","offset","Number","remaining","strLen","assert","byte","substr","isNaN","_charsWritten","_utf8Write","charsWritten","blitBuffer","utf8ToBytes","_asciiWrite","asciiToBytes","_binaryWrite","_base64Write","base64ToBytes","_utf16leWrite","utf16leToBytes","_base64Slice","base64","fromByteArray","slice","_utf8Slice","res","tmp","Math","min","decodeUtf8Char","String","fromCharCode","_asciiSlice","_binarySlice","_hexSlice","len","out","toHex","_utf16leSlice","bytes","_readUInt16","littleEndian","noAssert","undefined","_readUInt32","_readInt16","neg","_readInt32","_readFloat","ieee754","read","_readDouble","_writeUInt16","verifuint","j","_writeUInt32","_writeInt16","verifsint","_writeInt32","_writeFloat","verifIEEE754","_writeDouble","str","trim","clamp","index","defaultValue","ceil","isArray","byteArray","b","charCodeAt","h","encodeURIComponent","split","c","hi","lo","toByteArray","src","dst","decodeURIComponent","err","max","floor","message","SlowBuffer","INSPECT_MAX_BYTES","poolSize","ArrayBuffer","arr","foo","subarray","isEncoding","toLowerCase","concat","list","totalLength","item","copy","isFinite","swap","toJSON","_arr","target","target_start","source","sliceLen","newBuf","console","log","v","writeUInt8","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","fill","inspect","join","toArrayBuffer","BP","_get","toLocaleString","base64-js",11,"lookup","decode","elt","PLUS","PLUS_URL_SAFE","SLASH","SLASH_URL_SAFE","NUMBER","UPPER","LOWER","b64ToByteArray","b64","L","l","placeHolders","Arr","uint8ToBase64","uint8","encode","num","tripletToBase64","temp","extraBytes","output","base64js",12,"isLE","mLen","nBytes","m","eLen","eMax","eBias","nBits","d","NaN","Infinity","pow","rt","abs","LN2",13,"noop","nextTick","canSetImmediate","setImmediate","canPost","postMessage","queue","ev","stopPropagation","fn","shift","setTimeout","title","browser","env","argv","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","dir"],"mappings":"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","file":"markless.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _selectRangeJs = require('./selectRange.js');\n\nvar _selectRangeJs2 = _interopRequireDefault(_selectRangeJs);\n\nvar cursor = {\n    cursor: null,\n    getActiveDom: function getActiveDom(e) {\n        var self = this;\n        var left = e.offsetX;\n        var top = e.offsetY;\n\n        var shodom = document.querySelectorAll('.showdom');\n        var hitDom = null;\n        for (var i in shodom) {\n            if (shodom[i] instanceof HTMLElement !== true) continue;\n            hitDom = shodom[i];\n            var bottom = shodom[i].offsetTop + shodom[i].offsetHeight;\n            if (top <= bottom && top >= shodom[i].offsetTop) {\n                break;\n            }\n        };\n        return hitDom;\n    },\n    addCursor: function addCursor() {\n        var cursor = this.cursor = document.createElement('span');\n        cursor.style.height = '1em';\n        cursor.style.position = 'absolute';\n        cursor.style.left = 0;\n        cursor.style.top = 0;\n        cursor.style.borderLeft = '1px solid #333';\n        cursor.style.width = '0';\n        // document.body.appendChild(cursor);\n        var count = 0;\n        setInterval(function () {\n            count++;\n            if (count % 2 === 0) {\n                cursor.style.borderLeft = null;\n            } else {\n                cursor.style.borderLeft = '1px solid #333';\n            }\n        }, 500);\n    },\n    setCursor: function setCursor(x, y) {\n        if (x || y) {\n            this.cursor.style.left = parseInt(x) + 'px';\n            this.cursor.style.top = parseInt(y) + 'px';\n        }\n    },\n    getCursor: function getCursor() {\n        return this.cursor;\n    },\n    autoCursor: function autoCursor(textarea, markless) {\n        var start = textarea.selectionStart;\n        var end = textarea.selectionEnd;\n        var dom = markless.activeDom.querySelector('.html');\n        var oldHTML = dom.innerHTML;\n        dom.innerHTML = oldHTML + '&nbsp;';\n        // conputer the reall star and end\n        // [todo-done] Fix the start with out the tag like **x** `x` \\n nbsp;\n        var strBeforeCursor = textarea.value.substring(0, start);\n        var strShow = dom.textContent;\n        var subIndex = 0;\n        var subChar = strShow.charAt(subIndex);\n        for (var i = 0; i < start; i++) {\n            var theChar = strBeforeCursor.charAt(i);\n            if (theChar == subChar) {\n                subIndex++;\n                subChar = strShow.charAt(subIndex);\n            }\n        }\n        var useStar = subIndex;\n        var useEnd = end - (start - subIndex) + 1;\n        //\n        _selectRangeJs2['default'].set(dom, {\n            start: useStar,\n            end: useEnd\n        });\n\n        var pos = _selectRangeJs2['default'].getPos();\n        textarea.setSelectionRange(start, end);\n\n        var element = dom;\n        var domTop = 0;\n        var domLeft = 0;\n        do {\n            domTop += element.offsetTop || 0;\n            domLeft += element.offsetLeft || 0;\n            element = element.offsetParent;\n        } while (element);\n\n        var left = pos.x ? pos.x - domLeft : 0;\n        var top = pos.y ? pos.y - domTop : 0;\n        this.cursor.style.left = left + 'px';\n        this.cursor.style.top = top + 'px';\n        dom.innerHTML = oldHTML;\n    }\n};\n\nexports['default'] = cursor;\nmodule.exports = exports['default'];\n}).call(this,require(\"1YiZ5S\"),typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/cursor.js\",\"/\")\n},{\"./selectRange.js\":8,\"1YiZ5S\":13,\"buffer\":10}],2:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nvar Data = {\n    bank: {},\n    set: function set(name, val, overwrite) {\n        this.bank[name] = this.bank[name] || {};\n        var notArray = !(val instanceof Array);\n        var isObj = typeof val == 'object';\n        if (notArray && isObj) {\n            for (var i in val) {\n                this.bank[name][i] = val[i];\n            }\n        } else {\n            this.bank[name] = val;\n        }\n    },\n    'delete': function _delete(name) {\n        delete this.bank[name];\n    },\n    get: function get(name) {\n        return this.bank[name];\n    }\n};\n\nexports['default'] = Data;\nmodule.exports = exports['default'];\n}).call(this,require(\"1YiZ5S\"),typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/data.js\",\"/\")\n},{\"1YiZ5S\":13,\"buffer\":10}],3:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _dataJs = require('./data.js');\n\nvar _dataJs2 = _interopRequireDefault(_dataJs);\n\nvar _cursorJs = require('./cursor.js');\n\nvar _cursorJs2 = _interopRequireDefault(_cursorJs);\n\nvar edit = {\n    domCount: 0,\n    createDom: function createDom() {\n        var id = (this.domCount++).toString() + '_' + (+new Date()).toString(36);\n        var showBox = document.createElement('div');\n        showBox.setAttribute('class', 'showdom');\n        showBox.setAttribute('id', id);\n        showBox.style.minHeight = '18px';\n        showBox.style.position = 'relative';\n        showBox.dataset.line = 0;\n        showBox.dataset.type = 'text';\n        var html = document.createElement('div');\n        html.setAttribute('class', 'html');\n        showBox.appendChild(html);\n        if (_cursorJs2['default'].getCursor()) {\n            showBox.appendChild(_cursorJs2['default'].getCursor());\n        }\n        return showBox;\n    },\n    insert: function insert() {\n        var newDom = edit.createDom();\n        var referenceNode = this.activeDom;\n        referenceNode.parentNode.insertBefore(newDom, referenceNode.nextSibling);\n        this.activeDom = newDom;\n        this.editBox.value = '';\n    },\n    remove: function remove() {\n        var referenceNode = this.activeDom;\n        var prever = referenceNode.previousElementSibling;\n        if (prever) {\n            // TODO delete data cash\n            referenceNode.remove();\n            this.activeDom = prever;\n\n            // add the value to textarea\n            var data = _dataJs2['default'].get('markData');\n            var id = prever.id;\n            this.editBox.value = data[id] || '';\n        }\n    }\n};\n\nexports['default'] = edit;\nmodule.exports = exports['default'];\n}).call(this,require(\"1YiZ5S\"),typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/editDom.js\",\"/\")\n},{\"./cursor.js\":1,\"./data.js\":2,\"1YiZ5S\":13,\"buffer\":10}],4:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _cursorJs = require('./cursor.js');\n\nvar _cursorJs2 = _interopRequireDefault(_cursorJs);\n\nvar _editDomJs = require('./editDom.js');\n\nvar _editDomJs2 = _interopRequireDefault(_editDomJs);\n\nvar _modeRecognitionJs = require('./modeRecognition.js');\n\nvar _modeRecognitionJs2 = _interopRequireDefault(_modeRecognitionJs);\n\nvar _keyEventJs = require('./keyEvent.js');\n\nvar _keyEventJs2 = _interopRequireDefault(_keyEventJs);\n\nvar _valueFormatJs = require('./valueFormat.js');\n\nvar _valueFormatJs2 = _interopRequireDefault(_valueFormatJs);\n\nfunction Markless(id, opt) {\n    this.editBoxConf = {\n        baseStyle: '; outline : none; position:relative;'\n    };\n    this.activeDom = null;\n    this.dom = document.getElementById(id);\n    this.initDome();\n    this.initEvent();\n}\n\nMarkless.prototype.initDome = function () {\n    var self = this;\n\n    self.dom.style.overflow = 'auto';\n    // show dom\n    self.dom.appendChild(_editDomJs2['default'].createDom());\n\n    // textarea\n    var editBox = self.editBox = document.createElement('textarea');\n    editBox.setAttribute('style', 'position:absolute; bottom:10px; right:10px;');\n    self.dom.appendChild(editBox);\n\n    // init cursor\n    _cursorJs2['default'].addCursor();\n};\n\nMarkless.prototype.initEvent = function () {\n    var self = this;\n\n    // click\n    self.dom.addEventListener('click', function (e) {\n        self.activeDom = _cursorJs2['default'].getActiveDom.apply(self, arguments);\n        // append cursor\n        self.activeDom.appendChild(_cursorJs2['default'].getCursor());\n        self.focus();\n    });\n\n    self.editBox.addEventListener('keyup', function (e) {\n        // listen to key\n        _keyEventJs2['default'].dispatch(e, this, self);\n        // set  mode\n        var modelRst = _modeRecognitionJs2['default'].judege(this.value, self);\n        // format value\n        var val = _valueFormatJs2['default'].call(self, this.value);\n        // insert html\n        self.activeDom.querySelector('.html').innerHTML = val;\n        // deal withe cursor\n        _cursorJs2['default'].autoCursor(this, self);\n        return false;\n    });\n\n    // key down for edlete\n    self.editBox.addEventListener('keydown', function (e) {\n        _keyEventJs2['default'].dispatch(e, this, self);\n    });\n};\n\nMarkless.prototype.focus = function () {\n    var self = this;\n    self.editBox.focus();\n};\n\nglobal.Markless = Markless;\n}).call(this,require(\"1YiZ5S\"),typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/fake_a162f72a.js\",\"/\")\n},{\"./cursor.js\":1,\"./editDom.js\":3,\"./keyEvent.js\":5,\"./modeRecognition.js\":6,\"./valueFormat.js\":9,\"1YiZ5S\":13,\"buffer\":10}],5:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _editDomJs = require('./editDom.js');\n\nvar _editDomJs2 = _interopRequireDefault(_editDomJs);\n\nvar _valueFormatJs = require('./valueFormat.js');\n\nvar _valueFormatJs2 = _interopRequireDefault(_valueFormatJs);\n\nvar _dataJs = require('./data.js');\n\nvar _dataJs2 = _interopRequireDefault(_dataJs);\n\nvar keyEvent = {\n    'editDom': null,\n    'dispatch': function dispatch(e, editbox, markless) {\n        if (e.type == 'keyup') {\n            // keyup events\n            if (e.keyCode === 13) {\n                keyEvent.enter(editbox, markless);\n            }\n            // save the value\n            var obj = {};\n            var id = markless.activeDom.id;\n            if (e.keyCode === 8) {\n                id = this.editDom.id;\n            }\n            obj[id] = editbox.value;\n            _dataJs2['default'].set('markData', obj);\n        } else if (e.type == 'keydown') {\n            // keydown events\n            if (e.keyCode === 8) {\n                keyEvent['delete'](editbox, markless);\n            }\n            // get the editdom , because when you press the delete button , the activeDom would change before your keyup\n            // so we need catch the edit dom\n            this.editDom = markless.activeDom;\n        }\n    },\n    'enter': function enter(editbox, markless) {\n        var pre = markless.activeDom.previousSibling;\n        var line = markless.activeDom.dataset.line;\n        var val = editbox.value;\n        var singleLine = line != 0;\n        var lineEnd = /\\n\\n$/.test(val);\n        if (singleLine || lineEnd) {\n            // format value // insert html\n            val = _valueFormatJs2['default'].call(markless, val.replace(/\\n+$/, ''));\n            markless.activeDom.querySelector('.html').innerHTML = val;\n            //\n            _editDomJs2['default'].insert.apply(markless);\n            editbox.value = '';\n        }\n    },\n    'delete': function _delete(editbox, markless) {\n        var val = editbox.value;\n        if (val == '') {\n            _editDomJs2['default'].remove.call(markless);\n        }\n    }\n};\n\nexports['default'] = keyEvent;\nmodule.exports = exports['default'];\n}).call(this,require(\"1YiZ5S\"),typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/keyEvent.js\",\"/\")\n},{\"./data.js\":2,\"./editDom.js\":3,\"./valueFormat.js\":9,\"1YiZ5S\":13,\"buffer\":10}],6:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * this is the recognition modul fo every kind of mark\n * @type {Object}\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _modeStyleJs = require('./modeStyle.js');\n\nvar _modeStyleJs2 = _interopRequireDefault(_modeStyleJs);\n\nvar Mode = {\n    /**\n     * config\n     * @param {Number} line   0:multi-line,other:line number\n     */\n    judegeReg: {\n        '^(#{1,6})[^#]+': {\n            name: 'h',\n            line: 1\n        },\n        '^(\\>)[^\\>]+': {\n            name: 'blockquotes',\n            line: 0\n        },\n        '^(\\\\*)[^\\\\*]+': {\n            name: 'ul',\n            line: 0\n        },\n        '^(1\\\\.)[^\\\\d]+': {\n            name: 'ol',\n            line: 0\n        }\n    },\n    judege: function judege(val, markless) {\n        var reg = this.judegeReg;\n        var ret = null;\n        for (var i in reg) {\n            var testReg = new RegExp(i);\n            var hit = val.match(testReg);\n            if (hit) {\n                ret = {\n                    hit: hit,\n                    ret: reg[i].name,\n                    line: reg[i].line\n                };\n                break;\n            }\n        }\n\n        // deal with dom\n        if (ret) {\n            if (ret.ret == 'h') {\n                ret.ret += ret.hit[1].length;\n            } else if (ret.ret == 'ul') {\n                ret.hit[1] = '\\\\' + ret.hit[1];\n            }\n            var type = ret.ret;\n            markless.activeDom.dataset.type = type;\n            markless.activeDom.dataset.line = ret.line;\n            markless.activeDom.dataset.symbol = ret.hit[1];\n            // add Style\n            var style = (0, _modeStyleJs2['default'])(type) + markless.editBoxConf.baseStyle;\n            markless.activeDom.setAttribute('style', style);\n            markless.activeDom.setAttribute('class', 'showdom ' + type);\n        } else {\n            markless.activeDom.dataset.type = 'text';\n            delete markless.activeDom.dataset.symbol;\n            markless.activeDom.setAttribute('class', 'showdom');\n            markless.activeDom.setAttribute('style', markless.editBoxConf.baseStyle);\n        }\n    }\n};\n\nexports['default'] = Mode;\nmodule.exports = exports['default'];\n}).call(this,require(\"1YiZ5S\"),typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/modeRecognition.js\",\"/\")\n},{\"./modeStyle.js\":7,\"1YiZ5S\":13,\"buffer\":10}],7:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nvar StyleConf = {\n    'h1': 'margin: 50px 0 20px; font-size: 30px;',\n    'h2': 'margin: 35px 0 20px; font-size: 26px;',\n    'h3': 'margin: 20px 0; font-size: 21px;',\n    'h4': 'font-size: 18px;',\n    'h5': 'font-size: 16px;',\n    'h6': 'font-size: 16px;',\n    'blockquotes': 'padding: 10px 15px; border-left: 10px solid #D6DBDF;  margin: 0 0 20px; background:none repeat scroll 0 0 rgba(102,128,153,.05); color:rgb(44, 62, 80); min-height: 18px;',\n    'text': 'margin-bottom:15px;',\n    'code': 'border: 0; background-color: #D6DBDF; border-radius: 4px; color: #2C3E50; font-size: 14px; padding: 2px 4px; white-space: nowrap;'\n};\n\nfunction Style(mode) {\n    return StyleConf[mode];\n}\n\nexports['default'] = Style;\nmodule.exports = exports['default'];\n}).call(this,require(\"1YiZ5S\"),typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/modeStyle.js\",\"/\")\n},{\"1YiZ5S\":13,\"buffer\":10}],8:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar getSel, setSel;\n\nif (window.getSelection && document.createRange) {\n    getSel = function (containerEl) {\n        var range = window.getSelection().getRangeAt(0);\n        var preSelectionRange = range.cloneRange();\n        preSelectionRange.selectNodeContents(containerEl);\n        preSelectionRange.setEnd(range.startContainer, range.startOffset);\n        var start = preSelectionRange.toString().length;\n\n        return {\n            start: start,\n            end: start + range.toString().length\n        };\n    };\n\n    setSel = function (containerEl, savedSel) {\n        var charIndex = 0;\n        var range = document.createRange();\n        range.setStart(containerEl, 0);\n        range.collapse(true);\n        var nodeStack = [containerEl],\n            node,\n            foundStart = false,\n            stop = false;\n\n        while (!stop && (node = nodeStack.pop())) {\n            if (node.nodeType == 3) {\n                var nextCharIndex = charIndex + node.length;\n                if (!foundStart && savedSel.start >= charIndex && savedSel.start <= nextCharIndex) {\n                    range.setStart(node, savedSel.start - charIndex);\n                    foundStart = true;\n                }\n                if (foundStart && savedSel.end >= charIndex && savedSel.end <= nextCharIndex) {\n                    range.setEnd(node, savedSel.end - charIndex);\n                    stop = true;\n                }\n                charIndex = nextCharIndex;\n            } else {\n                var i = node.childNodes.length;\n                while (i--) {\n                    nodeStack.push(node.childNodes[i]);\n                }\n            }\n        }\n\n        var sel = window.getSelection();\n        sel.removeAllRanges();\n        sel.addRange(range);\n    };\n} else if (document.selection && document.body.createTextRange) {\n    getSel = function (containerEl) {\n        var selectedTextRange = document.selection.createRange();\n        var preSelectionTextRange = document.body.createTextRange();\n        preSelectionTextRange.moveToElementText(containerEl);\n        preSelectionTextRange.setEndPoint(\"EndToStart\", selectedTextRange);\n        var start = preSelectionTextRange.text.length;\n\n        return {\n            start: start,\n            end: start + selectedTextRange.text.length\n        };\n    };\n\n    setSel = function (containerEl, savedSel) {\n        var textRange = document.body.createTextRange();\n        textRange.moveToElementText(containerEl);\n        textRange.collapse(true);\n        textRange.moveEnd(\"character\", savedSel.end);\n        textRange.moveStart(\"character\", savedSel.start);\n        textRange.select();\n    };\n}\n\nfunction getSelectionTopLeft() {\n    var x = 0,\n        y = 0;\n    // Use standards-based method only if Range has getBoundingClientRect\n    if (window.getSelection && document.createRange && typeof document.createRange().getBoundingClientRect != \"undefined\") {\n        var sel = window.getSelection();\n        if (sel.rangeCount > 0) {\n            var rect = sel.getRangeAt(0).getBoundingClientRect();\n            x = rect.left;\n            y = rect.top;\n        }\n    } else if (document.selection && document.selection.type != \"Control\") {\n        // All versions of IE\n        var textRange = document.selection.createRange();\n        x = textRange.boundingLeft;\n        y = textRange.boundingTop;\n    }\n    return {\n        x: x,\n        y: y\n    };\n}\n\nvar range = {\n    get: getSel,\n    set: setSel,\n    getPos: getSelectionTopLeft\n};\n\nexports[\"default\"] = range;\nmodule.exports = exports[\"default\"];\n}).call(this,require(\"1YiZ5S\"),typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/selectRange.js\",\"/\")\n},{\"1YiZ5S\":13,\"buffer\":10}],9:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _modeStyleJs = require('./modeStyle.js');\n\nvar _modeStyleJs2 = _interopRequireDefault(_modeStyleJs);\n\nvar inlineFormat = {\n    'strong': '\\\\*\\\\*(.+?.)\\\\*\\\\*',\n    'code': '\\\\`(.+?)\\\\`',\n    'dispatch': function dispatch(val) {\n        for (var i in this) {\n            if (i == 'dispatch') continue;\n            var reg = new RegExp(this[i], 'g');\n            var style = (0, _modeStyleJs2['default'])(i) ? ' style=\"' + (0, _modeStyleJs2['default'])(i) + '\"' : '';\n            val = val.replace(reg, '<' + i + style + '>$1</' + i + '>');\n        }\n        return val;\n    }\n};\n\nvar valueFormat = {\n    'ul': function ul(val) {\n        return val.replace(/^\\*(\\s)*/, '<ul><li>').replace(/(\\s)*\\n(\\s)*(\\*){0,1}/g, '</li><li>').replace(/$/, '</li></ul>');\n    },\n    'ol': function ol(val) {\n        return val.replace(/^1\\.(\\s)*/, '<ol><li>').replace(/(\\s)*\\n(\\s)*(\\*){0,1}/g, '</li><li>').replace(/$/, '</li></ol>');\n    },\n    'default': function _default(val) {\n        var self = this;\n        var reg = new RegExp('^' + self.activeDom.dataset.symbol);\n        val = val.replace(reg, '');\n        val = val.replace(/\\n/g, '<br>');\n        val = val.replace(/\\s/g, '&nbsp;');\n        return val;\n    },\n    'dispatch': function dispatch(val) {\n        var type = this.activeDom.dataset.type;\n        // do main format\n        var mainFormat = valueFormat[type] || valueFormat['default'];\n        var mainResult = mainFormat.call(this, val);\n        // do inline format\n        var inlimeResult = inlineFormat.dispatch(mainResult);\n        return inlimeResult;\n    }\n};\n\nexports['default'] = valueFormat.dispatch;\nmodule.exports = exports['default'];\n}).call(this,require(\"1YiZ5S\"),typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/valueFormat.js\",\"/\")\n},{\"./modeStyle.js\":7,\"1YiZ5S\":13,\"buffer\":10}],10:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = Buffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192\n\n/**\n * If `Buffer._useTypedArrays`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (compatible down to IE6)\n */\nBuffer._useTypedArrays = (function () {\n  // Detect if browser supports Typed Arrays. Supported browsers are IE 10+, Firefox 4+,\n  // Chrome 7+, Safari 5.1+, Opera 11.6+, iOS 4.2+. If the browser does not support adding\n  // properties to `Uint8Array` instances, then that's the same as no `Uint8Array` support\n  // because we need to be able to add all the node Buffer API methods. This is an issue\n  // in Firefox 4-29. Now fixed: https://bugzilla.mozilla.org/show_bug.cgi?id=695438\n  try {\n    var buf = new ArrayBuffer(0)\n    var arr = new Uint8Array(buf)\n    arr.foo = function () { return 42 }\n    return 42 === arr.foo() &&\n        typeof arr.subarray === 'function' // Chrome 9-10 lack `subarray`\n  } catch (e) {\n    return false\n  }\n})()\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (subject, encoding, noZero) {\n  if (!(this instanceof Buffer))\n    return new Buffer(subject, encoding, noZero)\n\n  var type = typeof subject\n\n  // Workaround: node's base64 implementation allows for non-padded strings\n  // while base64-js does not.\n  if (encoding === 'base64' && type === 'string') {\n    subject = stringtrim(subject)\n    while (subject.length % 4 !== 0) {\n      subject = subject + '='\n    }\n  }\n\n  // Find the length\n  var length\n  if (type === 'number')\n    length = coerce(subject)\n  else if (type === 'string')\n    length = Buffer.byteLength(subject, encoding)\n  else if (type === 'object')\n    length = coerce(subject.length) // assume that object is array-like\n  else\n    throw new Error('First argument needs to be a number, array or string.')\n\n  var buf\n  if (Buffer._useTypedArrays) {\n    // Preferred: Return an augmented `Uint8Array` instance for best performance\n    buf = Buffer._augment(new Uint8Array(length))\n  } else {\n    // Fallback: Return THIS instance of Buffer (created by `new`)\n    buf = this\n    buf.length = length\n    buf._isBuffer = true\n  }\n\n  var i\n  if (Buffer._useTypedArrays && typeof subject.byteLength === 'number') {\n    // Speed optimization -- use set if we're copying from a typed array\n    buf._set(subject)\n  } else if (isArrayish(subject)) {\n    // Treat array-ish objects as a byte array\n    for (i = 0; i < length; i++) {\n      if (Buffer.isBuffer(subject))\n        buf[i] = subject.readUInt8(i)\n      else\n        buf[i] = subject[i]\n    }\n  } else if (type === 'string') {\n    buf.write(subject, 0, encoding)\n  } else if (type === 'number' && !Buffer._useTypedArrays && !noZero) {\n    for (i = 0; i < length; i++) {\n      buf[i] = 0\n    }\n  }\n\n  return buf\n}\n\n// STATIC METHODS\n// ==============\n\nBuffer.isEncoding = function (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.isBuffer = function (b) {\n  return !!(b !== null && b !== undefined && b._isBuffer)\n}\n\nBuffer.byteLength = function (str, encoding) {\n  var ret\n  str = str + ''\n  switch (encoding || 'utf8') {\n    case 'hex':\n      ret = str.length / 2\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8ToBytes(str).length\n      break\n    case 'ascii':\n    case 'binary':\n    case 'raw':\n      ret = str.length\n      break\n    case 'base64':\n      ret = base64ToBytes(str).length\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = str.length * 2\n      break\n    default:\n      throw new Error('Unknown encoding')\n  }\n  return ret\n}\n\nBuffer.concat = function (list, totalLength) {\n  assert(isArray(list), 'Usage: Buffer.concat(list, [totalLength])\\n' +\n      'list should be an Array.')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  } else if (list.length === 1) {\n    return list[0]\n  }\n\n  var i\n  if (typeof totalLength !== 'number') {\n    totalLength = 0\n    for (i = 0; i < list.length; i++) {\n      totalLength += list[i].length\n    }\n  }\n\n  var buf = new Buffer(totalLength)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\n// BUFFER INSTANCE METHODS\n// =======================\n\nfunction _hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  assert(strLen % 2 === 0, 'Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var byte = parseInt(string.substr(i * 2, 2), 16)\n    assert(!isNaN(byte), 'Invalid hex string')\n    buf[offset + i] = byte\n  }\n  Buffer._charsWritten = i * 2\n  return i\n}\n\nfunction _utf8Write (buf, string, offset, length) {\n  var charsWritten = Buffer._charsWritten =\n    blitBuffer(utf8ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction _asciiWrite (buf, string, offset, length) {\n  var charsWritten = Buffer._charsWritten =\n    blitBuffer(asciiToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction _binaryWrite (buf, string, offset, length) {\n  return _asciiWrite(buf, string, offset, length)\n}\n\nfunction _base64Write (buf, string, offset, length) {\n  var charsWritten = Buffer._charsWritten =\n    blitBuffer(base64ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction _utf16leWrite (buf, string, offset, length) {\n  var charsWritten = Buffer._charsWritten =\n    blitBuffer(utf16leToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nBuffer.prototype.write = function (string, offset, length, encoding) {\n  // Support both (string, offset, length, encoding)\n  // and the legacy (string, encoding, offset, length)\n  if (isFinite(offset)) {\n    if (!isFinite(length)) {\n      encoding = length\n      length = undefined\n    }\n  } else {  // legacy\n    var swap = encoding\n    encoding = offset\n    offset = length\n    length = swap\n  }\n\n  offset = Number(offset) || 0\n  var remaining = this.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n  encoding = String(encoding || 'utf8').toLowerCase()\n\n  var ret\n  switch (encoding) {\n    case 'hex':\n      ret = _hexWrite(this, string, offset, length)\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = _utf8Write(this, string, offset, length)\n      break\n    case 'ascii':\n      ret = _asciiWrite(this, string, offset, length)\n      break\n    case 'binary':\n      ret = _binaryWrite(this, string, offset, length)\n      break\n    case 'base64':\n      ret = _base64Write(this, string, offset, length)\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = _utf16leWrite(this, string, offset, length)\n      break\n    default:\n      throw new Error('Unknown encoding')\n  }\n  return ret\n}\n\nBuffer.prototype.toString = function (encoding, start, end) {\n  var self = this\n\n  encoding = String(encoding || 'utf8').toLowerCase()\n  start = Number(start) || 0\n  end = (end !== undefined)\n    ? Number(end)\n    : end = self.length\n\n  // Fastpath empty strings\n  if (end === start)\n    return ''\n\n  var ret\n  switch (encoding) {\n    case 'hex':\n      ret = _hexSlice(self, start, end)\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = _utf8Slice(self, start, end)\n      break\n    case 'ascii':\n      ret = _asciiSlice(self, start, end)\n      break\n    case 'binary':\n      ret = _binarySlice(self, start, end)\n      break\n    case 'base64':\n      ret = _base64Slice(self, start, end)\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = _utf16leSlice(self, start, end)\n      break\n    default:\n      throw new Error('Unknown encoding')\n  }\n  return ret\n}\n\nBuffer.prototype.toJSON = function () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function (target, target_start, start, end) {\n  var source = this\n\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (!target_start) target_start = 0\n\n  // Copy 0 bytes; we're done\n  if (end === start) return\n  if (target.length === 0 || source.length === 0) return\n\n  // Fatal error conditions\n  assert(end >= start, 'sourceEnd < sourceStart')\n  assert(target_start >= 0 && target_start < target.length,\n      'targetStart out of bounds')\n  assert(start >= 0 && start < source.length, 'sourceStart out of bounds')\n  assert(end >= 0 && end <= source.length, 'sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length)\n    end = this.length\n  if (target.length - target_start < end - start)\n    end = target.length - target_start + start\n\n  var len = end - start\n\n  if (len < 100 || !Buffer._useTypedArrays) {\n    for (var i = 0; i < len; i++)\n      target[i + target_start] = this[i + start]\n  } else {\n    target._set(this.subarray(start, start + len), target_start)\n  }\n}\n\nfunction _base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction _utf8Slice (buf, start, end) {\n  var res = ''\n  var tmp = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    if (buf[i] <= 0x7F) {\n      res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i])\n      tmp = ''\n    } else {\n      tmp += '%' + buf[i].toString(16)\n    }\n  }\n\n  return res + decodeUtf8Char(tmp)\n}\n\nfunction _asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++)\n    ret += String.fromCharCode(buf[i])\n  return ret\n}\n\nfunction _binarySlice (buf, start, end) {\n  return _asciiSlice(buf, start, end)\n}\n\nfunction _hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction _utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i+1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function (start, end) {\n  var len = this.length\n  start = clamp(start, len, 0)\n  end = clamp(end, len, len)\n\n  if (Buffer._useTypedArrays) {\n    return Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    var newBuf = new Buffer(sliceLen, undefined, true)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n    return newBuf\n  }\n}\n\n// `get` will be removed in Node 0.13+\nBuffer.prototype.get = function (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` will be removed in Node 0.13+\nBuffer.prototype.set = function (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nBuffer.prototype.readUInt8 = function (offset, noAssert) {\n  if (!noAssert) {\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset < this.length, 'Trying to read beyond buffer length')\n  }\n\n  if (offset >= this.length)\n    return\n\n  return this[offset]\n}\n\nfunction _readUInt16 (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 1 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  var val\n  if (littleEndian) {\n    val = buf[offset]\n    if (offset + 1 < len)\n      val |= buf[offset + 1] << 8\n  } else {\n    val = buf[offset] << 8\n    if (offset + 1 < len)\n      val |= buf[offset + 1]\n  }\n  return val\n}\n\nBuffer.prototype.readUInt16LE = function (offset, noAssert) {\n  return _readUInt16(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readUInt16BE = function (offset, noAssert) {\n  return _readUInt16(this, offset, false, noAssert)\n}\n\nfunction _readUInt32 (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  var val\n  if (littleEndian) {\n    if (offset + 2 < len)\n      val = buf[offset + 2] << 16\n    if (offset + 1 < len)\n      val |= buf[offset + 1] << 8\n    val |= buf[offset]\n    if (offset + 3 < len)\n      val = val + (buf[offset + 3] << 24 >>> 0)\n  } else {\n    if (offset + 1 < len)\n      val = buf[offset + 1] << 16\n    if (offset + 2 < len)\n      val |= buf[offset + 2] << 8\n    if (offset + 3 < len)\n      val |= buf[offset + 3]\n    val = val + (buf[offset] << 24 >>> 0)\n  }\n  return val\n}\n\nBuffer.prototype.readUInt32LE = function (offset, noAssert) {\n  return _readUInt32(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readUInt32BE = function (offset, noAssert) {\n  return _readUInt32(this, offset, false, noAssert)\n}\n\nBuffer.prototype.readInt8 = function (offset, noAssert) {\n  if (!noAssert) {\n    assert(offset !== undefined && offset !== null,\n        'missing offset')\n    assert(offset < this.length, 'Trying to read beyond buffer length')\n  }\n\n  if (offset >= this.length)\n    return\n\n  var neg = this[offset] & 0x80\n  if (neg)\n    return (0xff - this[offset] + 1) * -1\n  else\n    return this[offset]\n}\n\nfunction _readInt16 (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 1 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  var val = _readUInt16(buf, offset, littleEndian, true)\n  var neg = val & 0x8000\n  if (neg)\n    return (0xffff - val + 1) * -1\n  else\n    return val\n}\n\nBuffer.prototype.readInt16LE = function (offset, noAssert) {\n  return _readInt16(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readInt16BE = function (offset, noAssert) {\n  return _readInt16(this, offset, false, noAssert)\n}\n\nfunction _readInt32 (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  var val = _readUInt32(buf, offset, littleEndian, true)\n  var neg = val & 0x80000000\n  if (neg)\n    return (0xffffffff - val + 1) * -1\n  else\n    return val\n}\n\nBuffer.prototype.readInt32LE = function (offset, noAssert) {\n  return _readInt32(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readInt32BE = function (offset, noAssert) {\n  return _readInt32(this, offset, false, noAssert)\n}\n\nfunction _readFloat (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  return ieee754.read(buf, offset, littleEndian, 23, 4)\n}\n\nBuffer.prototype.readFloatLE = function (offset, noAssert) {\n  return _readFloat(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readFloatBE = function (offset, noAssert) {\n  return _readFloat(this, offset, false, noAssert)\n}\n\nfunction _readDouble (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset + 7 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  return ieee754.read(buf, offset, littleEndian, 52, 8)\n}\n\nBuffer.prototype.readDoubleLE = function (offset, noAssert) {\n  return _readDouble(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readDoubleBE = function (offset, noAssert) {\n  return _readDouble(this, offset, false, noAssert)\n}\n\nBuffer.prototype.writeUInt8 = function (value, offset, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset < this.length, 'trying to write beyond buffer length')\n    verifuint(value, 0xff)\n  }\n\n  if (offset >= this.length) return\n\n  this[offset] = value\n}\n\nfunction _writeUInt16 (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 1 < buf.length, 'trying to write beyond buffer length')\n    verifuint(value, 0xffff)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  for (var i = 0, j = Math.min(len - offset, 2); i < j; i++) {\n    buf[offset + i] =\n        (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n            (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function (value, offset, noAssert) {\n  _writeUInt16(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeUInt16BE = function (value, offset, noAssert) {\n  _writeUInt16(this, value, offset, false, noAssert)\n}\n\nfunction _writeUInt32 (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'trying to write beyond buffer length')\n    verifuint(value, 0xffffffff)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  for (var i = 0, j = Math.min(len - offset, 4); i < j; i++) {\n    buf[offset + i] =\n        (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function (value, offset, noAssert) {\n  _writeUInt32(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeUInt32BE = function (value, offset, noAssert) {\n  _writeUInt32(this, value, offset, false, noAssert)\n}\n\nBuffer.prototype.writeInt8 = function (value, offset, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset < this.length, 'Trying to write beyond buffer length')\n    verifsint(value, 0x7f, -0x80)\n  }\n\n  if (offset >= this.length)\n    return\n\n  if (value >= 0)\n    this.writeUInt8(value, offset, noAssert)\n  else\n    this.writeUInt8(0xff + value + 1, offset, noAssert)\n}\n\nfunction _writeInt16 (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 1 < buf.length, 'Trying to write beyond buffer length')\n    verifsint(value, 0x7fff, -0x8000)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  if (value >= 0)\n    _writeUInt16(buf, value, offset, littleEndian, noAssert)\n  else\n    _writeUInt16(buf, 0xffff + value + 1, offset, littleEndian, noAssert)\n}\n\nBuffer.prototype.writeInt16LE = function (value, offset, noAssert) {\n  _writeInt16(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeInt16BE = function (value, offset, noAssert) {\n  _writeInt16(this, value, offset, false, noAssert)\n}\n\nfunction _writeInt32 (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'Trying to write beyond buffer length')\n    verifsint(value, 0x7fffffff, -0x80000000)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  if (value >= 0)\n    _writeUInt32(buf, value, offset, littleEndian, noAssert)\n  else\n    _writeUInt32(buf, 0xffffffff + value + 1, offset, littleEndian, noAssert)\n}\n\nBuffer.prototype.writeInt32LE = function (value, offset, noAssert) {\n  _writeInt32(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeInt32BE = function (value, offset, noAssert) {\n  _writeInt32(this, value, offset, false, noAssert)\n}\n\nfunction _writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'Trying to write beyond buffer length')\n    verifIEEE754(value, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n}\n\nBuffer.prototype.writeFloatLE = function (value, offset, noAssert) {\n  _writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function (value, offset, noAssert) {\n  _writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction _writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 7 < buf.length,\n        'Trying to write beyond buffer length')\n    verifIEEE754(value, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n}\n\nBuffer.prototype.writeDoubleLE = function (value, offset, noAssert) {\n  _writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function (value, offset, noAssert) {\n  _writeDouble(this, value, offset, false, noAssert)\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (typeof value === 'string') {\n    value = value.charCodeAt(0)\n  }\n\n  assert(typeof value === 'number' && !isNaN(value), 'value is not a number')\n  assert(end >= start, 'end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  assert(start >= 0 && start < this.length, 'start out of bounds')\n  assert(end >= 0 && end <= this.length, 'end out of bounds')\n\n  for (var i = start; i < end; i++) {\n    this[i] = value\n  }\n}\n\nBuffer.prototype.inspect = function () {\n  var out = []\n  var len = this.length\n  for (var i = 0; i < len; i++) {\n    out[i] = toHex(this[i])\n    if (i === exports.INSPECT_MAX_BYTES) {\n      out[i + 1] = '...'\n      break\n    }\n  }\n  return '<Buffer ' + out.join(' ') + '>'\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (Buffer._useTypedArrays) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1)\n        buf[i] = this[i]\n      return buf.buffer\n    }\n  } else {\n    throw new Error('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function (arr) {\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array get/set methods before overwriting\n  arr._get = arr.get\n  arr._set = arr.set\n\n  // deprecated, will be removed in node 0.13+\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\n// slice(start, end)\nfunction clamp (index, len, defaultValue) {\n  if (typeof index !== 'number') return defaultValue\n  index = ~~index;  // Coerce to integer.\n  if (index >= len) return len\n  if (index >= 0) return index\n  index += len\n  if (index >= 0) return index\n  return 0\n}\n\nfunction coerce (length) {\n  // Coerce length to a number (possibly NaN), round up\n  // in case it's fractional (e.g. 123.456) then do a\n  // double negate to coerce a NaN to 0. Easy, right?\n  length = ~~Math.ceil(+length)\n  return length < 0 ? 0 : length\n}\n\nfunction isArray (subject) {\n  return (Array.isArray || function (subject) {\n    return Object.prototype.toString.call(subject) === '[object Array]'\n  })(subject)\n}\n\nfunction isArrayish (subject) {\n  return isArray(subject) || Buffer.isBuffer(subject) ||\n      subject && typeof subject === 'object' &&\n      typeof subject.length === 'number'\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    var b = str.charCodeAt(i)\n    if (b <= 0x7F)\n      byteArray.push(str.charCodeAt(i))\n    else {\n      var start = i\n      if (b >= 0xD800 && b <= 0xDFFF) i++\n      var h = encodeURIComponent(str.slice(start, i+1)).substr(1).split('%')\n      for (var j = 0; j < h.length; j++)\n        byteArray.push(parseInt(h[j], 16))\n    }\n  }\n  return byteArray\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(str)\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  var pos\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length))\n      break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction decodeUtf8Char (str) {\n  try {\n    return decodeURIComponent(str)\n  } catch (err) {\n    return String.fromCharCode(0xFFFD) // UTF 8 invalid char\n  }\n}\n\n/*\n * We have to make sure that the value is a valid integer. This means that it\n * is non-negative. It has no fractional component and that it does not\n * exceed the maximum allowed value.\n */\nfunction verifuint (value, max) {\n  assert(typeof value === 'number', 'cannot write a non-number as a number')\n  assert(value >= 0, 'specified a negative value for writing an unsigned value')\n  assert(value <= max, 'value is larger than maximum value for type')\n  assert(Math.floor(value) === value, 'value has a fractional component')\n}\n\nfunction verifsint (value, max, min) {\n  assert(typeof value === 'number', 'cannot write a non-number as a number')\n  assert(value <= max, 'value larger than maximum allowed value')\n  assert(value >= min, 'value smaller than minimum allowed value')\n  assert(Math.floor(value) === value, 'value has a fractional component')\n}\n\nfunction verifIEEE754 (value, max, min) {\n  assert(typeof value === 'number', 'cannot write a non-number as a number')\n  assert(value <= max, 'value larger than maximum allowed value')\n  assert(value >= min, 'value smaller than minimum allowed value')\n}\n\nfunction assert (test, message) {\n  if (!test) throw new Error(message || 'Failed assertion')\n}\n\n}).call(this,require(\"1YiZ5S\"),typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/../node_modules/gulp-browserify/node_modules/browserify/node_modules/buffer/index.js\",\"/../node_modules/gulp-browserify/node_modules/browserify/node_modules/buffer\")\n},{\"1YiZ5S\":13,\"base64-js\":11,\"buffer\":10,\"ieee754\":12}],11:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\nvar lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\tvar PLUS_URL_SAFE = '-'.charCodeAt(0)\n\tvar SLASH_URL_SAFE = '_'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS ||\n\t\t    code === PLUS_URL_SAFE)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH ||\n\t\t    code === SLASH_URL_SAFE)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n\n}).call(this,require(\"1YiZ5S\"),typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/../node_modules/gulp-browserify/node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib/b64.js\",\"/../node_modules/gulp-browserify/node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib\")\n},{\"1YiZ5S\":13,\"buffer\":10}],12:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n}).call(this,require(\"1YiZ5S\"),typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/../node_modules/gulp-browserify/node_modules/browserify/node_modules/buffer/node_modules/ieee754/index.js\",\"/../node_modules/gulp-browserify/node_modules/browserify/node_modules/buffer/node_modules/ieee754\")\n},{\"1YiZ5S\":13,\"buffer\":10}],13:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n// shim for using process in browser\n\nvar process = module.exports = {};\n\nprocess.nextTick = (function () {\n    var canSetImmediate = typeof window !== 'undefined'\n    && window.setImmediate;\n    var canPost = typeof window !== 'undefined'\n    && window.postMessage && window.addEventListener\n    ;\n\n    if (canSetImmediate) {\n        return function (f) { return window.setImmediate(f) };\n    }\n\n    if (canPost) {\n        var queue = [];\n        window.addEventListener('message', function (ev) {\n            var source = ev.source;\n            if ((source === window || source === null) && ev.data === 'process-tick') {\n                ev.stopPropagation();\n                if (queue.length > 0) {\n                    var fn = queue.shift();\n                    fn();\n                }\n            }\n        }, true);\n\n        return function nextTick(fn) {\n            queue.push(fn);\n            window.postMessage('process-tick', '*');\n        };\n    }\n\n    return function nextTick(fn) {\n        setTimeout(fn, 0);\n    };\n})();\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n}\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\n\n}).call(this,require(\"1YiZ5S\"),typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/../node_modules/gulp-browserify/node_modules/browserify/node_modules/process/browser.js\",\"/../node_modules/gulp-browserify/node_modules/browserify/node_modules/process\")\n},{\"1YiZ5S\":13,\"buffer\":10}]},{},[4])"],"sourceRoot":"/source/"}